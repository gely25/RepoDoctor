{% extends 'home.html' %}
{% load static %}
{% block title %}{{ title }}{% endblock %}

{% block content %}
<section class="dark:bg-principal">
    <div class="text-center" data-aos="fade" data-aos-delay="200">
        <div class="sm:pt-28 lg:pt-4">
            <h1 class="rounded-2xl bg-indigo-500 px-2 py-1 text-white uppercase text-4xl">
                {{ title1 }}
            </h1>
        </div>

        {% if form.non_field_errors %}
        <div class="mx-4 lg:mx-20 mb-6">
            <div class="bg-red-50 dark:bg-red-900/30 border-l-4 border-red-500 p-4 rounded-lg max-w-4xl mx-auto">
                <p class="text-red-700 dark:text-red-300">
                    {% for error in form.non_field_errors %}
                        <span class="block">{{ error }}</span>
                    {% endfor %}
                </p>
            </div>
        </div>
        {% endif %}

        <form method="post" class="space-y-6 py-4">
            <div class="mx-4 lg:mx-20">
                <div class="bg-white dark:bg-secundario rounded-3xl p-8 max-w-4xl mx-auto" data-aos="fade-up" data-aos-delay="200">
                    {% csrf_token %}

                    <!-- Icono vista previa -->
                    <div class="text-center mb-8">
                        <div class="bg-gray-100 dark:bg-principal rounded-full w-20 h-20 mx-auto flex items-center justify-center mb-4">
                            <i class="fa-solid fa-money-bill-trend-up text-3xl text-gray-400"></i>
                        </div>
                        <h2 class="dark:text-blue-300 text-2xl font-Pacifico">Registrar Gasto</h2>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Campo tipo_gasto -->
                        <div>
                            <label for="id_tipo_gasto" class="block text-left text-lg font-bold dark:text-blue-300">
                                {{ form.tipo_gasto.label }} <span class="text-red-500">*</span>
                            </label>
                            {{ form.tipo_gasto }}
                            {% for error in form.tipo_gasto.errors %}
                                <p class="text-red-500 text-sm">{{ error }}</p>
                            {% endfor %}
                        </div>

                        <!-- Campo fecha -->
                        <div>
                            <label for="id_fecha" class="block text-left text-lg font-bold dark:text-blue-300">
                                {{ form.fecha.label }} <span class="text-red-500">*</span>
                            </label>
                            {{ form.fecha }}
                            {% for error in form.fecha.errors %}
                                <p class="text-red-500 text-sm">{{ error }}</p>
                            {% endfor %}
                        </div>

                        <!-- Campo valor -->
                        <div>
                            <label for="id_valor" class="block text-left text-lg font-bold dark:text-blue-300">
                                {{ form.valor.label }} <span class="text-red-500">*</span>
                            </label>
                            {{ form.valor }}
                            {% for error in form.valor.errors %}
                                <p class="text-red-500 text-sm">{{ error }}</p>
                            {% endfor %}
                        </div>

                        <!-- Campo observaciÃ³n -->
                        <div class="md:col-span-2">
                            <label for="id_observacion" class="block text-left text-lg font-bold dark:text-blue-300">
                                {{ form.observacion.label }}
                            </label>
                            {{ form.observacion }}
                            {% for error in form.observacion.errors %}
                                <p class="text-red-500 text-sm">{{ error }}</p>
                            {% endfor %}
                        </div>
                    </div>

                    <!-- Botones -->
                    <div class="mt-8 flex flex-col md:flex-row justify-center items-center space-y-3 md:space-y-0 md:space-x-8">
                        <button type="submit"
                            class="w-full md:w-auto bg-blue-700 hover:bg-blue-800 text-white py-3 px-8 rounded-lg flex items-center justify-center transition-all duration-300 font-medium shadow-lg hover:shadow-xl">
                            <i class="fa-solid fa-floppy-disk mr-2"></i> Guardar Gasto
                        </button>
                        <a href="{% url 'core:gastomensual_list' %}"
                            class="w-full md:w-auto bg-red-700 hover:bg-red-800 text-white py-3 px-8 rounded-lg flex items-center justify-center transition-all duration-300 font-medium shadow-lg hover:shadow-xl">
                            <i class="fa-solid fa-xmark mr-2"></i> Cancelar
                        </a>
                    </div>
                </div>
            </div>
        </form>
    </div>
</section>
{% endblock %}
